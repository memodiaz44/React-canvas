{"ast":null,"code":"import _slicedToArray from\"/Users/adeldiaz/Documents/projectsPortfolio/flipN/flip-note/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useContext,useState}from'react';import'../styles/login.css';import{useHistory}from'react-router-dom';import{UserContext}from'../habdler/userContext';/* eslint-disable */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useContext=useContext(UserContext),setUser=_useContext.setUser;var handleSubmit=useCallback(function(e){e.preventDefault();var jsonData={email:email,password:password};fetch('http://3.19.219.106:5001/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(jsonData)}).then(function(response){return response.json();}).then(function(data){console.log(data);if(data.error==='User not found'){// Display user not found error message\nalert('User not found. Please check your email or sign up.');}else if(!data.hasAccount){history.push('/signup');}else{setUser(data);// Update the user state\nconsole.log(data);history.push('/canvas');alert(\"Hi \".concat(data.name,\", Welcome back!\"));}}).catch(function(error){console.log(\"Error:\",error);});setEmail('');setPassword('');},[email,password,history,setUser]);return/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome back!\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:/*#__PURE__*/_jsx(\"input\",{className:\"button\",type:\"submit\",value:\"Submit\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"/signup\",children:\"Sign up\"}),/*#__PURE__*/_jsx(\"span\",{style:{paddingBottom:\"20px\"},children:\"Don't have an account yet? \"})]})});}export default Login;","map":{"version":3,"names":["React","useCallback","useContext","useState","useHistory","UserContext","jsx","_jsx","jsxs","_jsxs","Login","history","_useState","_useState2","_slicedToArray","token","setToken","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useContext","setUser","handleSubmit","e","preventDefault","jsonData","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","error","alert","hasAccount","push","concat","name","catch","className","children","onSubmit","type","required","onChange","target","value","href","style","paddingBottom"],"sources":["/Users/adeldiaz/Documents/projectsPortfolio/flipN/flip-note/src/component/Login.jsx"],"sourcesContent":["import React, { useCallback, useContext, useState } from 'react';\nimport '../styles/login.css';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../habdler/userContext';\n/* eslint-disable */ \nfunction Login() {\n  const history = useHistory();\n  const [token, setToken] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { setUser } = useContext(UserContext);\n\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n\n      const jsonData = {\n        email: email,\n        password: password\n      };\n\n      fetch('http://3.19.219.106:5001/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(jsonData)\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(data);\n          if (data.error === 'User not found') {\n            // Display user not found error message\n            alert('User not found. Please check your email or sign up.');\n          } else if (!data.hasAccount) {\n             history.push('/signup');\n          } else {\n            setUser(data); // Update the user state\n            console.log(data)\n\n            history.push('/canvas');\n     \n          \n            alert(`Hi ${data.name}, Welcome back!`);\n          \n          }\n        })\n        .catch((error) => {\n            console.log(\"Error:\", error);\n        });\n\n      setEmail('');\n      setPassword('');\n    },\n    [email, password, history, setUser]\n  );\n\n  return (\n    <div className=\"form-container\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"email\">\n          <h1>Welcome back!</h1>\n          <label>Email</label>\n          <input\n            type=\"text\"\n            name=\"email\"\n            required\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div className=\"password\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            required\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <div className=\"submit\">\n          <input className='button' type=\"submit\" value=\"Submit\" />\n        </div><a href=\"/signup\">Sign up</a>\n        <span style={{\n          paddingBottom: \"20px\"\n        }}>Don't have an account yet? </span> \n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}